# =================================================================
# ServiceDesk Monolith - Production Environment Configuration
# =================================================================
# This file contains all environment variables needed for production deployment.
# Copy this file to .env and fill in your actual values.
#
# SECURITY WARNING: Never commit .env files with real credentials to version control!
# =================================================================

# =================================================================
# APPLICATION SETTINGS
# =================================================================
SPRING_PROFILES_ACTIVE=production
SERVER_PORT=8080

# Application Name (optional)
#SPRING_APPLICATION_NAME=servicedesk-monolith

# =================================================================
# SECURITY (REQUIRED - CRITICAL FOR PRODUCTION!)
# =================================================================

# JWT Secret Key (REQUIRED)
# Generate a secure secret: openssl rand -base64 48
# Must be at least 32 characters long
JWT_SECRET=CHANGE-ME-TO-A-SECURE-RANDOM-STRING-AT-LEAST-48-CHARACTERS-LONG

# JWT Token Expiration (in milliseconds)
#JWT_EXPIRATION=3600000          # 1 hour
#JWT_REFRESH_EXPIRATION=604800000 # 7 days

# =================================================================
# DATABASE CONFIGURATION (REQUIRED)
# =================================================================

# PostgreSQL Connection
DB_HOST=postgres
DB_PORT=5432
DB_NAME=servicedesk
DB_USERNAME=servicedesk
DB_PASSWORD=CHANGE-ME-TO-SECURE-PASSWORD

# Database Pool Settings (optional, defaults shown)
#DB_POOL_SIZE=20
#DB_MIN_IDLE=5
#DB_CONNECTION_TIMEOUT=30000
#DB_IDLE_TIMEOUT=600000
#DB_MAX_LIFETIME=1800000

# =================================================================
# REDIS CONFIGURATION (REQUIRED for caching)
# =================================================================

REDIS_HOST=redis
REDIS_PORT=6379
#REDIS_PASSWORD=your-redis-password-if-enabled
#REDIS_DATABASE=0
#REDIS_TIMEOUT=3000

# =================================================================
# ELASTICSEARCH CONFIGURATION (REQUIRED for full-text search)
# =================================================================

ELASTICSEARCH_URIS=http://elasticsearch:9200
#ELASTICSEARCH_USERNAME=elastic
#ELASTICSEARCH_PASSWORD=your-elasticsearch-password

# =================================================================
# EMAIL CONFIGURATION (REQUIRED for notifications)
# =================================================================

# SMTP Server Settings
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=noreply@yourdomain.com
MAIL_PASSWORD=your-app-specific-password

# Email Sender Information
MAIL_FROM=noreply@yourdomain.com
MAIL_FROM_NAME=ServiceDesk Platform

# SMTP Properties (optional)
#MAIL_SMTP_AUTH=true
#MAIL_SMTP_STARTTLS_ENABLE=true
#MAIL_SMTP_STARTTLS_REQUIRED=true
#MAIL_SMTP_SSL_ENABLE=false

# =================================================================
# FILE STORAGE (REQUIRED for attachments)
# =================================================================

# Storage Type: local, minio, s3
STORAGE_TYPE=minio

# MinIO Configuration (if using MinIO)
MINIO_ENDPOINT=http://minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=CHANGE-ME-TO-SECURE-MINIO-PASSWORD
MINIO_BUCKET=servicedesk-files
#MINIO_AUTO_CREATE_BUCKET=true

# AWS S3 Configuration (if using S3)
#AWS_ACCESS_KEY_ID=your-aws-access-key
#AWS_SECRET_ACCESS_KEY=your-aws-secret-key
#AWS_S3_BUCKET=your-s3-bucket-name
#AWS_S3_REGION=us-east-1

# Local File Storage (if using local storage)
#FILE_UPLOAD_DIR=/var/lib/servicedesk/uploads
#FILE_MAX_SIZE=52428800  # 50MB in bytes

# =================================================================
# AI / LLM INTEGRATION (OPTIONAL)
# =================================================================

# OpenAI Configuration (for GPT models)
OPENAI_ENABLED=false
#OPENAI_API_KEY=sk-your-openai-api-key-here
#OPENAI_MODEL=gpt-4
#OPENAI_MAX_TOKENS=2000
#OPENAI_TEMPERATURE=0.7

# Anthropic Configuration (for Claude models)
ANTHROPIC_ENABLED=false
#ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
#ANTHROPIC_MODEL=claude-3-sonnet-20240229
#ANTHROPIC_MAX_TOKENS=4000

# =================================================================
# TELEGRAM INTEGRATION (OPTIONAL)
# =================================================================

TELEGRAM_ENABLED=false
#TELEGRAM_BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
#TELEGRAM_WEBHOOK_URL=https://yourdomain.com/api/v1/channels/telegram/webhook
#TELEGRAM_BOT_USERNAME=YourServiceDeskBot

# =================================================================
# WHATSAPP BUSINESS API (OPTIONAL)
# =================================================================

WHATSAPP_ENABLED=false
#WHATSAPP_BUSINESS_ACCOUNT_ID=your-business-account-id
#WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
#WHATSAPP_ACCESS_TOKEN=your-permanent-access-token
#WHATSAPP_VERIFY_TOKEN=your-webhook-verify-token-must-match
#WHATSAPP_WEBHOOK_URL=https://yourdomain.com/api/v1/channels/whatsapp/webhook

# =================================================================
# SMS NOTIFICATIONS (OPTIONAL - via Twilio)
# =================================================================

SMS_ENABLED=false
#SMS_PROVIDER=twilio
#TWILIO_ACCOUNT_SID=your-twilio-account-sid
#TWILIO_AUTH_TOKEN=your-twilio-auth-token
#TWILIO_FROM_NUMBER=+1234567890

# =================================================================
# PUSH NOTIFICATIONS (OPTIONAL - via Firebase Cloud Messaging)
# =================================================================

PUSH_ENABLED=false
#FCM_SERVER_KEY=your-firebase-server-key
#FCM_SENDER_ID=your-firebase-sender-id
#FCM_PROJECT_ID=your-firebase-project-id

# =================================================================
# MONITORING & OBSERVABILITY
# =================================================================

# Prometheus Metrics
#MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true
#MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus

# Grafana Configuration (if using Grafana)
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE-ME-TO-SECURE-GRAFANA-PASSWORD

# Health Check Settings
#MANAGEMENT_HEALTH_LIVENESSSTATE_ENABLED=true
#MANAGEMENT_HEALTH_READINESSSTATE_ENABLED=true

# =================================================================
# LOGGING CONFIGURATION
# =================================================================

# Logging Level (DEBUG, INFO, WARN, ERROR)
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_SERVICEDESK=INFO
#LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=WARN
#LOGGING_LEVEL_ORG_HIBERNATE=WARN

# Log File Configuration
#LOGGING_FILE_NAME=/var/log/servicedesk/application.log
#LOGGING_FILE_MAX_SIZE=10MB
#LOGGING_FILE_MAX_HISTORY=30
#LOGGING_FILE_TOTAL_SIZE_CAP=1GB

# =================================================================
# APPLICATION BEHAVIOR
# =================================================================

# Async Processing
#ASYNC_CORE_POOL_SIZE=5
#ASYNC_MAX_POOL_SIZE=10
#ASYNC_QUEUE_CAPACITY=100

# Rate Limiting
#RATE_LIMIT_ENABLED=true
#RATE_LIMIT_REQUESTS_PER_MINUTE=60

# CORS Configuration
#CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
#CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
#CORS_ALLOWED_HEADERS=*
#CORS_ALLOW_CREDENTIALS=true

# Session Timeout (in seconds)
#SESSION_TIMEOUT=3600  # 1 hour

# =================================================================
# SLA & AUTOMATION
# =================================================================

# SLA Check Interval (in seconds)
#SLA_CHECK_INTERVAL=300  # 5 minutes

# Automation Rules Check Interval (in seconds)
#AUTOMATION_CHECK_INTERVAL=60  # 1 minute

# =================================================================
# BACKUP & DISASTER RECOVERY
# =================================================================

# Automated Backup Configuration
#BACKUP_ENABLED=true
#BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
#BACKUP_RETENTION_DAYS=30
#BACKUP_LOCATION=/backups/servicedesk

# =================================================================
# ADVANCED SETTINGS (Use with caution)
# =================================================================

# JVM Options (if running JAR directly, not in Docker)
#JAVA_OPTS=-Xms1g -Xmx2g -XX:+UseG1GC -XX:MaxGCPauseMillis=200

# Spring Boot Admin (if using SBA for monitoring)
#SPRING_BOOT_ADMIN_URL=http://admin-server:8080
#SPRING_BOOT_ADMIN_CLIENT_INSTANCE_NAME=servicedesk-monolith

# =================================================================
# DEVELOPMENT / DEBUGGING (DO NOT ENABLE IN PRODUCTION!)
# =================================================================

# Debug Mode (NEVER enable in production!)
#DEBUG=false
#SPRING_DEVTOOLS_RESTART_ENABLED=false

# SQL Logging (NEVER enable in production - performance impact!)
#SPRING_JPA_SHOW_SQL=false
#SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL=false

# H2 Console (NEVER enable in production - security risk!)
#SPRING_H2_CONSOLE_ENABLED=false

# =================================================================
# CUSTOM APPLICATION SETTINGS
# =================================================================

# Company/Organization Information
#ORGANIZATION_NAME=Your Company Name
#ORGANIZATION_LOGO_URL=https://yourdomain.com/logo.png
#ORGANIZATION_SUPPORT_EMAIL=support@yourdomain.com
#ORGANIZATION_SUPPORT_PHONE=+1-555-SUPPORT

# Default Language
#DEFAULT_LANGUAGE=en
#SUPPORTED_LANGUAGES=en,ru,uz

# Time Zone
#DEFAULT_TIMEZONE=UTC

# =================================================================
# NOTES & BEST PRACTICES
# =================================================================
#
# 1. Security:
#    - Generate strong passwords/secrets using: openssl rand -base64 48
#    - Never use default passwords in production
#    - Rotate secrets regularly
#    - Use a secrets manager (Vault, AWS Secrets Manager, etc.)
#
# 2. Database:
#    - Use connection pooling for better performance
#    - Enable SSL for database connections in production
#    - Regular backups are critical
#
# 3. Monitoring:
#    - Always enable health checks
#    - Set up Prometheus + Grafana for metrics
#    - Configure log aggregation (ELK, Loki, etc.)
#    - Set up alerts for critical metrics
#
# 4. Performance:
#    - Enable Redis caching
#    - Tune JVM heap sizes based on load
#    - Use CDN for static assets
#    - Enable gzip compression
#
# 5. Backups:
#    - Automate database backups
#    - Test restore procedures regularly
#    - Store backups off-site
#    - Keep at least 30 days of backups
#
# =================================================================
